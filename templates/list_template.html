{# templates/list_template.html #}
<ul class="list-group" id="list-{{ loop_index }}">
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <!-- Collapse toggle -->
    <a data-bs-toggle="collapse"
       href="#collapse-{{ loop_index }}"
       role="button"
       aria-expanded="false"
       aria-controls="collapse-{{ loop_index }}">
      {{ match }}
    </a>
    <span class="badge bg-primary rounded-pill">
      {{ positions|length }}
    </span>
  </li>

  <!-- Collapsible container; its id must match the href above -->
  <div class="collapse" id="collapse-{{ loop_index }}">
    <ul class="list-group list-group-flush">
      {% for p in positions %}
        <li class="list-group-item">
          <!-- Jump to the exact line on finneganswake -->
          <a href="{{ url_for('finneganswake') }}#line-{{ p.line }}">
            line {{ p.line + 1 }}: “{{ p.word }}”
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
</ul>
